[build-system]
requires = ["numpy", "wheel", "meson-python", "charset_normalizer", "meson>=1.7.0"]
build-backend = "mesonpy"

[project]
name = "uclchem"
dynamic = ["version"]
authors = [
    { name = "Gijs Vermariën", email = "vermarien@strw.leidenuniv.nl" },
    { name = "Marcus Keil" },
    { name = "Jon Holdship" },
    { name = "Tomas James" },
    { name = "Ross O'Donoghue" },
]
maintainers = [
	{name="Gijs Vermariën", email="vermarien@strw.leidenuniv.nl"},
]
license = {text = "MIT License"}
description = "A package for the astrochemical modelling of gas-grain chemistries."
readme = "README.md"
requires-python = ">=3.9,<3.14"
dependencies = [
    "h5py", "pandas", "numpy", "pyyaml", "charset_normalizer", "matplotlib", "h5netcdf","seaborn", "scipy", "tqdm", "joblib", "xarray", "pydantic>=2.0"
]

[project.urls]
Repository = "https://github.com/uclchem/UCLCHEM"
Documentation = "https://uclchem.github.io"

[project.optional-dependencies]
dev = ["pytest", "pytest-xdist", "pytest-github-actions-annotate-failures", "pre-commit", "sphinx"]  # Development dependencies
docs = ["pydoc-markdown", "jupyter", "jupyter_contrib_nbextensions", "notebook<7"]

[tool.ruff]
# Exclude notebooks directory from most checks since they're generated from .ipynb
extend-exclude = ["notebooks/*.py"]
line-length = 90

[tool.ruff.lint]
select = ["E", "F", "C", "I", "E"]
extend-ignore = [
    "E501", "E731", "E741", "E402", "F841", "F811", "C901", "E203", "E402"
]

[tool.ruff.lint.per-file-ignores]
# E402: Module level import not at top of file - normal for notebook-derived files
"notebooks/*.py" = ["E402"]
"*/__init__.py" = ["F401"]
